<view class="container_layout">
  <van-notify id="van-notify" />
  <view>
    <!-- 接受者弹框 -->
    <van-dialog use-slot title="接收者" show="{{ show }}" bind:close="onClose" bind:confirm="onConfirm">
      <van-picker columns="{{ columns }}" bind:change="onChange" />
    </van-dialog>
    <!-- 验证码弹框 -->
    <van-dialog use-slot title="CODE" show="{{ codeShow }}" bind:confirm="onConfirmCode">
      <van-image width="160" height="42" src="{{imgSrcValue}}" class="code_img" />
      <van-cell-group>
        <van-field model:value="{{ codeValue }}" required clearable label="验证码" placeholder="请输入" />
        <van-notice-bar scrollable="{{ false }}" text="若输入不正确，请重新【打卡】操作" />
      </van-cell-group>
    </van-dialog>
    <!-- 操作 -->
    <van-row>
      <van-col span="24">
        <van-notice-bar mode="closeable" text="建议先执行【刷新页面】操作，再进行【打卡】操作。" />
      </van-col>
      <van-col span="8">
        <van-button type="info" bind:click="handleLogin" size="small" block>登录</van-button>
      </van-col>
      <van-col span="8">
        <van-button type="primary" bind:click="handleReload" size="small" block>刷新打卡页面</van-button>
      </van-col>
      <van-col span="8">
        <van-button type="danger" bind:click="handleDelLog" size="small" block>删除日志</van-button>
      </van-col>
    </van-row>
  </view>
  <!-- 日志 -->
  <view class="log">
    <view class="title">
      [Plugin info]
      =====================================================================
      title : 日志输出
      =====================================================================
      -----
      [Input]
      -----
    </view>
    <view wx:for="{{logInfo}}" wx:key="item">
      <text user-select="true">{{item.info}}</text>
    </view>
  </view>

  <view class="btn">
    <view class="btn_style_in" bindtap="handleClockIn" wx:if="{{nowTime}}">
      <text>{{nowTime}}</text>
      <text>打卡</text>
    </view>
  </view>
</view>